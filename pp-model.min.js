!function(t,e){var s="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t;if("function"==typeof define&&define.amd)define(["ppEvents","ppIs","ppValidate"],(function(t,i,n){s.ppModel=e(t,i,n)}));else if("undefined"!=typeof exports){var i={},n={},c={};try{i=require("pp-events")}catch(t){}try{n=require("pp-is")}catch(t){}try{c=require("pp-validate")}catch(t){}module.exports=e(i,n,c)}else s.ppModel=e(s.ppEvents,s.ppIs,s.ppValidate)}(this,(function(t,e,s){const i=Object.prototype.hasOwnProperty,n=(t,e)=>i.call(t,e);var c=function(i,c){this.Events=e.isUndefined(t)?null:new t,this.on=e.isNull(this.Events)?()=>{}:this.Events.on,this.emit=e.isNull(this.Events)?()=>{}:this.Events.emit;var l={};e.isObject(i)&&Object.assign(l,{...i}),e.isObject(c)&&Object.assign(l,{...c});const h=Object.keys(e);for(var a=0;a<h.length;a++){const t=h[a];this[t]=function(t,e,s){return n(l,e)?t(l[e],s):t(void 0,s)}.bind(this,e[t])}this.get=t=>this.has(t)?l[t]:null,this.set=(t,e)=>{const s=`change:${t}`,i="changed",n=`${i}:${t}`,c=t=>this.Events.checkOn(t),h=()=>{l[t]=e,c(n)&&this.emit(n,e),c(i)&&this.emit(i,t,e)};this.has(t)&&(()=>{c(s)?this.emit(s,e,l[t],h):h()})()},this.stringify=(t,e)=>JSON.stringify(l,t,e),this.keys=()=>Object.keys({...l}),this.has=t=>!!e.isString(t)&&n(l,t),this.values=()=>Object.values({...l}),this.getAll=()=>Object.assign({},{...l});const r=(t,...e)=>Object.fromEntries(Object.entries(l).filter((([s])=>e.includes(s)===t)));this.pick=(...t)=>r(!0,...t),this.omit=(...t)=>r(!1,...t),this.validate=t=>e.isFunction(s)&&e.isObject(t)?s(this.getAll(),t):null};return function(t){return this.main=function(t){var s=null;return e.isObject(t)&&n(t,"defaults")&&e.isObject(t.defaults)&&(s=Object.assign({},t.defaults)),c.bind(this,s)},this.main(t||{})}}));