!function(t,e){var n="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t;if("function"==typeof define&&define.amd)define(["ppEvents","ppIs","ppValidate"],(function(t,i,s){n.ppModel=e(t,i,s)}));else if("undefined"!=typeof exports){var i={},s={},c={};try{i=require("pp-events")}catch(t){}try{s=require("pp-is")}catch(t){}try{c=require("pp-validate")}catch(t){}module.exports=e(i,s,c)}else n.ppModel=e(n.ppEvents,n.ppIs,n.ppValidate)}(this,(function(t,e,n){var i=function(i,s){this.Events=e.isUndefined(t)?null:new t,this.on=e.isNull(this.Events)?function(){}:this.Events.on,this.emit=e.isNull(this.Events)?function(){}:this.Events.emit;var c={};e.isObject(i)&&Object.assign(c,{...i}),e.isObject(s)&&Object.assign(c,{...s});for(var r=Object.keys(e),h=0;h<r.length;h++){var a=r[h];this[a]=function(t,e,n){return c.hasOwnProperty(e)?t(c[e],n):t(void 0,n)}.bind(this,e[a])}this.get=function(t){if(e.isString(t)&&c.hasOwnProperty(t))return c[t]},this.set=function(t,n){this.has(t)&&(e.isNull(this.Events)?c[t]=n:this.Events.checkOn("change:"+t)||this.Events.checkOn("changed:"+t)?this.Events.checkOn("change:"+t)?this.emit("change:"+t,n,c[t],function(){c[t]=n,this.Events.checkOn("changed:"+t)&&this.emit("changed:"+t,n)}.bind(this)):(c[t]=n,this.Events.checkOn("changed:"+t)&&this.emit("changed:"+t,n)):(c[t]=n,this.emit("changed:"+t,n)))},this.stringify=function(t,e){return JSON.stringify(c,t,e)},this.keys=function(){return Object.keys({...c})},this.has=function(t){return!!e.isString(t)&&c.hasOwnProperty(t)},this.values=function(){return Object.values({...c})},this.getAll=function(){return Object.assign({},{...c})},this.pick=function(){var t=[].slice.call(arguments),n={};return t.length>0?(e.isObject(c)&&t.forEach((t=>{e.isString(t)&&c.hasOwnProperty(t)&&(n[t]=c[t])})),Object.assign({...n},{})):n},this.omit=function(){var t=[].slice.call(arguments),n={};return t.length>0?(e.isObject(c)&&(n=Object.assign({},{...c}),t.forEach((t=>{e.isString(t)&&c.hasOwnProperty(t)&&delete n[t]}))),Object.assign({...n},{})):n},this.validate=function(t){return e.isFunction(n)?n(this.getAll(),t):null}};return function(t){return this.main=function(t){var n=null;return e.isObject(t)&&t.hasOwnProperty("defaults")&&e.isObject(t.defaults)&&(n=Object.assign({},t.defaults)),i.bind(this,n)},this.main(t||{})}}));